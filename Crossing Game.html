<html>
<head>
    <title>Crossing Game</title>
    <style type="text/css">
    canvas {
        border: 2px solid black;
        background-color: red;
    }
    </style>
</head>
<body>
    <h1>Crossing Game</h1>
    <canvas id='myCanvas' width = '1000' height = '500'></canvas>
    <script type="text/javascript">
    var canvas = document.getElementById('myCanvas');
    var ctx = canvas.getContext('2d');
    const screenWidth = 1000;
    const screenHeight = 500;
    let width = 50;
    let speed = 0;

    class GameCharacter{
        constructor(x, y, width, height, color, speed) {
            this.x = x;
            this.y = y;
            this.width = width;
            this.height = height;
            this.color = color;
            this.speed = speed;
            this.maxSpeed = 7;
        }

        moveVertically() {
            if (this.y > screenHeight-100) {
                this.speed = -this.speed;
            }
            if (this.y < -screenHeight+550) {
                this.speed = -this.speed;
            }
            this.y += this.speed;
        }
        moveHorizontally(xAmount) {
            this.x += speed;
        }
    }

    var enemies = [
        new GameCharacter(200, 50, width, width, "rgb (0, 0, 255)", 2),

        new GameCharacter(450, screenHeight-100, width, width, "rgb(0, 0, 255)", 3),

        new GameCharacter(600, screenHeight-150, width, width, "rgb(0, 0, 255)", 7),
    ]

    var player = new GameCharacter (50, 225, width, width, "rgb(0, 255, 0)", 0);
    
    document.onkeydown = function(event){
        switch(event.key) {
            case 'ArrowRight': 
            player.speed = player.maxSpeed;
            break;
        }
    };

    document.onkeyup = function(event) {
        player.speed =0;
    }

    var draw = function() {
        ctx.clearRect(0, 0, screenWidth, screenHeight);
        
        ctx.fillStyle = player.color;
        ctx.fillRect(player.x, player.y, player.width, player.height);

        enemies.forEach(function(element) {
            ctx.fillStyle = element.color;
            ctx.fillRect(element.x, element.y, element.width, element.height);
        });



    }
    var update = function() {
        player.moveHorizontally();

        enemies.forEach(function(element){
            element.moveVertically();
        });
    }

    var step = function() {
        update();
        draw();
        window.requestAnimationFrame(step);
    }



    step();
    </script>
</body>





</html>